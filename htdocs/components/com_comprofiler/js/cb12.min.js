function cbsaveorder(e,t,i,n,a,d){cbCheckAllRowsAndSubTask(e,t,i,a,d);cbsubmitform(n)}function cbCheckAllRowsAndSubTask(e,t,i,n,a){if(!i){i="cb"}f=cbParentForm(e);for(var d=0;d<t;d++){box=f.elements[i+d];if(box.checked==false){box.checked=true}}if(n&&a){f.elements[n].value=a}}function cbToggleAll(tgl,n,fldName){if(!fldName){fldName="cb"}var frm=tgl.form;var checked=0;for(i=0;i<n;i++){cb=eval("frm."+fldName+i);if(cb){cb.checked=tgl.checked;if(tgl.checked==true){checked++}}}if(typeof frm.boxchecked!="undefined"){frm.boxchecked.value=checked}return true}function cbParentForm(e){var t;if(e==window){t=window.event.srcElement}else{t=e}while(t){t=t.parentNode;if(t.nodeName=="FORM"){break}}return t}function cbIsChecked(e){if(e==true){document.adminForm.boxchecked.value++}else{document.adminForm.boxchecked.value--}}function cbListItemTask(e,t,n,a,d,r){var s=cbParentForm(e);if(e&&s){var l=new RegExp("^"+d+"[0-9]+$");for(i=0;i<s.elements.length;i++){cbx=s.elements[i];if(cbx.type!="checkbox"||!l.test(cbx.id)){continue}if(cbx.id==d+r){cbx.checked=true}else{cbx.checked=false}}if(n&&a){s.elements[n].value=a}submitbutton(t)}return false}function cbDoListTask(e,t,n,a,d){var r=document.forms["adminForm"];if(e){var s=false;for(i=0;true;i++){cbx=r.elements[d+i];if(!cbx){break}if(cbx.checked){s=true;break}}if(s){if(n&&a){if(a=="deleterows"){if(!confirm("Are you sure you want to delete selected items ?")){return false}}r.elements[n].value=a}submitbutton(t)}else{alert("no items selected")}}return false}function cbDoSubTask(e,t,i,n){var a=document.forms["adminForm"];if(e){if(i&&n){a.elements[i].value=n}submitbutton(t)}return false}function cbhideMainMenu(){if(document.adminForm.hidemainmenu){document.adminForm.hidemainmenu.value=1}}function submitbutton(e){cbsubmitform(e);return false}function cbsubmitform(e){if(e.indexOf("=")==-1){if(document.forms["adminForm"].elements["task"]){document.forms["adminForm"].elements["task"].value=e}else if(document.forms["adminForm"].elements["view"]){document.forms["adminForm"].elements["view"].value=e}}else{var t=e.split("&");for(var i=0;i<t.length;i++){var n=t[i].split("=");if(typeof document.forms["adminForm"].elements[n[0]]=="undefined"&&typeof cbjQuery!="undefined"){cbjQuery('<input type="hidden" />').attr("name",n[0]).attr("value",n[1]).appendTo(cbjQuery(document.forms["adminForm"]))}document.forms["adminForm"].elements[n[0]].value=n[1]}}if(typeof cbjQuery!="undefined"){cbjQuery(document.forms["adminForm"]).submit()}else{if(typeof document.forms["adminForm"]!="undefined"){try{document.forms["adminForm"].onsubmit()}catch(e){}}document.forms["adminForm"].submit()}}var cbW3CDOM=document.createElement&&document.getElementsByTagName;function cbGetElementsByClass(e,t,n){var a=[];if(t==null){t=document}if(n==null){n="*"}var d=t.getElementsByTagName(n);var r=d.length;var s=new RegExp("(^|\\s)"+e+"(\\s|$)");for(i=0,j=0;i<r;i++){if(s.test(d[i].className)){a[j]=d[i];j++}}return a}function cbAddEvent(e,t,i){if(e.addEventListener){e.addEventListener(t,i,true);return true}else if(e.attachEvent){var n=e.attachEvent("on"+t,i);return n}else{return false}}function cbAddEventObjArray(objArr,evType,fn){for(var j=0;j<objArr.length;j++){if(objArr[j].type!="hidden"){eval("objArr[j].on"+evType+"=fn")}}}var cbHideFields=[];var cbParamsSaveBefHide=[];var cbSels=[];var cbPreviousOnChangeValues=[];function cbGetDisplayStyle(e){var t;if(e.style.getPropertyValue){t=e.style.getPropertyValue("display")}else{t=e.style.display}return t}var cbFirstTimeChange=true;function cbParamChange(){var e=[];var t=[];var i,n,a,d;var r=false;var s,l,c,o;for(s=0;s<cbHideFields.length;s++){i="";for(l=1;l<cbSels[s].length;l++){if(cbSels[s][l].type=="radio"||cbSels[s][l].type=="checkbox"){if(cbSels[s][l].checked){i+=(i===""?"":"|*|")+cbSels[s][l].value}}else if(cbSels[s][l].tagName=="SELECT"){var f=cbSels[s][l].options.length;for(var u=0;u<f;u++){if(cbSels[s][l].options[u].selected){i+=(i===""?"":"|*|")+cbSels[s][l].options[u].value}}}else{i+=(i===""?"":"|*|")+cbSels[s][l].value}}var b=false;switch(cbHideFields[s][2]){case"==":if(i==cbHideFields[s][3]){b=true}break;case"!=":if(i!=cbHideFields[s][3]){b=true}break;case">=":if(i>=cbHideFields[s][3]){b=true}break;case"<=":if(i<=cbHideFields[s][3]){b=true}break;case">":if(i>cbHideFields[s][3]){b=true}break;case"<":if(i<cbHideFields[s][3]){b=true}break;case"contains":b=i.indexOf(cbHideFields[s][3])==-1;break;case"!contains":b=i.indexOf(cbHideFields[s][3])!=-1;break;case"in":var m=cbHideFields[s][3].toString().split("|*|");b=m.length>0?m.indexOf(i)==-1:true;break;case"!in":var m=cbHideFields[s][3].toString().split("|*|");b=m.length>0?m.indexOf(i)!=-1:false;break;case"regexp":var p=new RegExp(cbHideFields[s][3]);b=!p.test(i);break;case"!regexp":var p=new RegExp(cbHideFields[s][3]);b=p.test(i);break;case"evaluate":break;default:alert('js error operator "'+cbHideFields[s][2]+'" unknown.');break}if(cbHideFields[s][2]=="evaluate"){if(typeof cbPreviousOnChangeValues[cbHideFields[s][1]]!="undefined"){if(cbPreviousOnChangeValues[cbHideFields[s][1]]!=i){r=true}}cbPreviousOnChangeValues[cbHideFields[s][1]]=i}else{if(b){for(l=0;l<e.length;l++){for(c=0;c<cbHideFields[s][4].length;c++){if(cbHideFields[s][4][c]==e[l]){e.splice(l,1)}}}t=t.concat(cbHideFields[s][4]);if(cbHideFields[s][5].length>0){if(cbGetDisplayStyle(document.getElementById(cbHideFields[s][0]))!="none"){for(l=0;l<cbHideFields[s][5].length;l++){n=cbHideFields[s][5][l].split("=",3);if(cbGetDisplayStyle(document.getElementById(cbHideFields[s][4][0]))!="none"){a=document.getElementById(n[1]);if(typeof cbParamsSaveBefHide[s]=="undefined"){cbParamsSaveBefHide[s]=[]}if(a){cbParamsSaveBefHide[s][l]=a.value;a.value=n[2]}else{alert("InputToSet undefined: "+cbHideFields[s][4][0])}}}}}}else{o=false;for(l=0;l<t.length;l++){for(c=0;c<cbHideFields[s][4].length;c++){if(cbHideFields[s][4][c]==t[l]){o=true}}}if(!o){e=e.concat(cbHideFields[s][4]);if(cbHideFields[s][5].length>0){for(l=0;l<cbHideFields[s][5].length;l++){n=cbHideFields[s][5][l].split("=",3);if(cbGetDisplayStyle(document.getElementById(cbHideFields[s][4][0]))=="none"){a=document.getElementById(n[1]);if(typeof cbParamsSaveBefHide[s]!="undefined"){a.value=cbParamsSaveBefHide[s][l]}else{alert("inputToSet saved param undefined for input id: "+n[1]+" as following id is hidden: "+cbHideFields[s][4][0])}}}}}}}}if(typeof cbjQuery=="undefined"){for(s=0;s<e.length;s++){d=document.getElementById(e[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){d.parent.style.display=""}else{d.style.display="";if(d.tagName.toLowerCase()=="option"){d.disabled=false}}}else{alert("field not found number: "+s+" id:"+e[s])}}for(s=0;s<t.length;s++){d=document.getElementById(t[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){d.parent.style.display="none !important";d.checked=false}else{d.style.display="none !important";if(d.tagName.toLowerCase()=="option"){d.selected=false;d.disabled=true}}}else{alert("field not found number: "+s+" id:"+t[s])}}}else if(cbFirstTimeChange){for(s=0;s<e.length;s++){d=document.getElementById(e[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){jQuery(d.parentNode).removeClass("hidden")}else{jQuery(d).removeClass("hidden");if(d.tagName.toLowerCase()=="option"){jQuery(d).prop("disabled",false)}}jQuery(d).removeClass("cbDisplayDisabled");jQuery(d).find("input,select,textarea").removeClass("cbValidationDisabled")}}for(s=0;s<t.length;s++){d=document.getElementById(t[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){jQuery(d.parentNode).addClass("hidden");jQuery(d).prop("checked",false)}else{jQuery(d).addClass("hidden");if(d.tagName.toLowerCase()=="option"){jQuery(d).prop("selected",false);jQuery(d).prop("disabled",true)}}jQuery(d).addClass("cbDisplayDisabled");jQuery(d).find("input,select,textarea").addClass("cbValidationDisabled")}}}else{for(s=0;s<e.length;s++){d=document.getElementById(e[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){jQuery(d.parentNode).removeClass("hidden")}else{jQuery(d).removeClass("hidden");if(d.tagName.toLowerCase()=="option"){jQuery(d).prop("disabled",false)}}jQuery(d).removeClass("cbDisplayDisabled");jQuery(d).find("input,select,textarea").removeClass("cbValidationDisabled")}}for(s=0;s<t.length;s++){d=document.getElementById(t[s]);if(d){if(d.type=="radio"||d.type=="checkbox"){jQuery(d.parentNode).addClass("hidden");jQuery(d).prop("checked",false)}else{jQuery(d).addClass("hidden");if(d.tagName.toLowerCase()=="option"){jQuery(d).prop("selected",false);jQuery(d).prop("disabled",true)}}jQuery(d).addClass("cbDisplayDisabled");jQuery(d).find("input,select,textarea").addClass("cbValidationDisabled")}}}cbFirstTimeChange=false;if(r){cbParentForm(this).submit();return false}}function cbInitFields(){if(!cbW3CDOM){return}if(typeof cbHideFields=="undefined"){return}for(var e=0;e<cbHideFields.length;e++){var t=document.getElementById(cbHideFields[e][0]);if(t===null){alert("xml name "+cbHideFields[e][0]+" is undefined. It is cbHideFields["+e+"][0].")}else{var i=document.getElementById(cbHideFields[e][1]);var n=[];if(i!==null){n[0]=i}if(n.length==0){n=t.getElementsByTagName("select")}if(n.length==0){n=t.getElementsByTagName("input")}var a=1;cbSels[e]=[];cbSels[e][0]=t;for(var d=0;d<n.length;d++){if(!(n[d].tagName.toLowerCase()=="input"||n[d].tagName.toLowerCase()=="select"||n[d].tagName.toLowerCase()=="textarea")){continue}if(n[d].type=="hidden"){continue}if(typeof cbjQuery=="undefined"){if(n[d].type=="text"){cbAddEvent(n[d],"change",cbParamChange)}else{cbAddEvent(n[d],window.ActiveXObject?"click":"change",cbParamChange)}}else{jQuery(n[d]).on("change",cbParamChange)}cbSels[e][a++]=n[d]}}}cbParamChange()}cbAddEvent(window,"load",cbInitFields);function CBgetHttpRequestInstance(){var t=false;if(window.XMLHttpRequest){t=new XMLHttpRequest;if(t.overrideMimeType){t.overrideMimeType("text/xml")}}else if(window.ActiveXObject){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return t}function CBmakeHttpRequest(e,t,i,n,a){if(arguments.length<5||a==null){a=CBgetHttpRequestInstance()}if(!a){return false}a.onreadystatechange=function(){d(a)};if(n==null){a.open("GET",e,true);a.send(null)}else{a.open("POST",e,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.setRequestHeader("Content-length",n.length);a.send(n)}function d(e){if(e.readyState==4){if(e.status==200&&e.responseText.length>0&&e.responseText.length<1025){document.getElementById(t).innerHTML=e.responseText}else if(i.length>0){document.getElementById(t).innerHTML=i}else{document.getElementById(t).innerHTML=""}e=null}}return true}