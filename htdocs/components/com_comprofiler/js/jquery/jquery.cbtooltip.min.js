(function(g){var f=[];var o={init:function(d){return this.each(function(){var s=this;var o=g(s).data("cbtooltip");if(o){return}o={};o.options=typeof d!="undefined"?d:{};o.defaults=g.fn.cbtooltip.defaults;o.settings=g.extend(true,{},o.defaults,o.options);o.element=g(s);if(o.settings.useData){g.each(o.defaults,function(t,e){if(t!="init"&&t!="id"&&t!="useData"){var s=o.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1));if(typeof s!="undefined"){if(t.indexOf("classes")!==-1){o.settings[t]+=" "+s}else{o.settings[t]=s}}else{s=o.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());if(typeof s!="undefined"){if(t.indexOf("classes")!==-1){o.settings[t]+=" "+s}else{o.settings[t]=s}}}}})}o.element.triggerHandler("cbtooltip.init.before",[o]);if(o.element.parents('.cbTooltip,[data-hascbtooltip="true"]').length){o.settings.init=false}if(!o.settings.init){return}var t=o.settings.width==null&&o.defaults.width==null;var e=o.settings.clone!=null?o.settings.clone:true;var i=o.settings.modal!=null?o.settings.modal:o.settings.classes?o.settings.classes.indexOf("qtip-modal")!==-1:false;var n=o.settings.dialog!=null?o.settings.dialog:o.settings.classes?o.settings.classes.indexOf("qtip-dialog")!==-1:false;var l=o.settings.menu!=null?o.settings.menu:o.settings.classes?o.settings.classes.indexOf("qtip-menu")!==-1:false;var a=o.settings.simple!=null?o.settings.simple:o.settings.classes?o.settings.classes.indexOf("qtip-simple")!==-1:false;var r=o.settings.buttonHide!=null?o.settings.buttonHide:false;var c=o.settings.tooltipTarget?m(o,o.settings.tooltipTarget).length?!e&&!o.settings.keepAlive?m(o,o.settings.tooltipTarget):null:null:null;var p=c&&c.length?c.parent():null;if(i||n){l=false}else if(l){i=false;n=false;if(o.settings.width!=o.element.data("width")){o.settings.width=null}o.element.attr("aria-haspopup",true);o.element.attr("aria-expanded",false)}o.tooltiptype=i?"modal":n?"dialog":l?"menu":"tooltip";o.overlay=g('<div class="qtip-overlay" />');if(o.settings.overlayClasses){o.overlay.addClass(o.settings.overlayClasses)}o.escapeHandler=function(t){if(t.which==27){o.tooltip.qtip("api").hide()}};var u=o.settings.closeEffect!=null?o.settings.closeEffect:!(l||i||n);o.tooltip=o.element.qtip({id:o.settings.id,overwrite:true,content:{text:o.settings.tooltipTarget?m(o,o.settings.tooltipTarget).length?e?m(o,o.settings.tooltipTarget).clone(true):m(o,o.settings.tooltipTarget):o.settings.tooltip?o.settings.tooltip:null:o.settings.tooltip?o.settings.tooltip:null,title:o.settings.titleTarget?m(o,o.settings.titleTarget).length?e?m(o,o.settings.titleTarget).clone(true):m(o,o.settings.titleTarget):o.settings.title?o.settings.title:null:o.settings.title?o.settings.title:null,button:o.settings.openEvent&&o.settings.openEvent.indexOf("click")!==-1||i||n?r||l?false:o.settings.buttonClose:false},position:{container:o.settings.container?g(o.settings.container).length?g(o.settings.container):o.settings.container:false,viewport:o.settings.viewport?g(o.settings.viewport).length?g(o.settings.viewport):o.settings.viewport:g(window),my:o.settings.positionMy?o.settings.positionMy:i||n?"center":a?"bottom center":"top left",at:o.settings.positionAt?o.settings.positionAt:l?"bottom left":i||n?"center":a?"top center":"bottom right",target:o.settings.positionTarget?o.settings.positionTarget=="mouse"?"mouse":m(o,o.settings.positionTarget).length?m(o,o.settings.positionTarget):false:i||n?g(window):false,adjust:{x:o.settings.adjustX!=null?o.settings.adjustX:0,y:o.settings.adjustY!=null?o.settings.adjustY:l?5:0,scroll:o.settings.adjustScroll!=null?o.settings.adjustScroll:true,resize:o.settings.adjustResize!=null?o.settings.adjustResize:true,method:o.settings.adjustMethod?o.settings.adjustMethod:"shift flipinvert"},effect:o.settings.positionEffect!=null?o.settings.positionEffect:false},show:{ready:o.settings.openReady!=null?o.settings.openReady:n,target:o.settings.openTarget?m(o,o.settings.openTarget).length?m(o,o.settings.openTarget):false:false,event:o.settings.openEvent?o.settings.openEvent:i||n?"click":"mouseenter click",solo:o.settings.openSolo!=null?g(o.settings.openSolo).length?g(o.settings.openSolo):o.settings.openSolo=="document"?g(document):o.settings.openSolo:i?g(document):false,delay:o.settings.openDelay!=null?o.settings.openDelay:30,modal:{on:i,escape:false,blur:false},effect:o.settings.openEffect!=null?o.settings.openEffect:!(l||i||n)},hide:{target:o.settings.closeTarget?m(o,o.settings.closeTarget).length?m(o,o.settings.closeTarget):false:false,event:o.settings.closeEvent?o.settings.closeEvent:i||n?"none":"mouseleave unfocus",fixed:o.settings.closeFixed!=null?o.settings.closeFixed:l||i||n,delay:o.settings.closeDelay!=null?o.settings.closeDelay:l?200:0,distance:o.settings.closeDistance!=null?o.settings.closeDistance:false,leave:o.settings.closeLeave!=null?o.settings.closeLeave:"window",inactive:o.settings.closeInactive!=null?o.settings.closeInactive:false,effect:u},style:{width:o.settings.width!=null?o.settings.width:false,height:o.settings.height!=null?o.settings.height:false,tip:{corner:o.settings.tipHide!=null?o.settings.tipHide:!(l||i||n),width:o.settings.tipWidth!=null?o.settings.tipWidth:6,height:o.settings.tipHeight!=null?o.settings.tipHeight:6,offset:o.settings.tipOffset!=null?o.settings.tipOffset:0},classes:(o.settings.classes?o.settings.classes:"")+(a?" tooltip":" popover")+(l?" qtip-menu":"")+(a?" qtip-simple":"")+(i?" qtip-modal":"")+(n?" qtip-dialog":"")+(t?" qtip-nowidth":""),def:false},events:{render:function(t,e){if(o.settings.titleClasses){g(e.elements.titlebar).addClass(o.settings.titleClasses)}if(o.settings.contentClasses){g(e.elements.content).addClass(o.settings.contentClasses)}if(a){g(e.elements.titlebar).addClass("hidden");g(e.elements.content).addClass("tooltip-inner")}else{g(e.elements.titlebar).addClass("popover-header");g(e.elements.tooltip).find(".qtip-close").addClass("close").find(".ui-icon").removeClass("ui-icon ui-icon-close");g(e.elements.content).addClass("popover-body")}o.element.triggerHandler("cbtooltip.render",[o,t,e]);g(e.elements.content).find('.cbTooltip,[data-hascbtooltip="true"]').each(function(){g(this).cbtooltip()});if(l){g(e.elements.content).on("click",function(){if(u){e.toggle(false)}else{setTimeout(function(){e.toggle(false)},100)}})}h.call(s,o,e);if(e.elements.overlay){if(o.settings.overlayClasses){e.elements.overlay.addClass(o.settings.overlayClasses)}g(document).off("keydown.qtip-modal");e.elements.overlay.off("click.qtip-modal");e.elements.overlay.on("click",function(t){e.toggle(false)})}g(e.elements.content).on("click",".cbTooltipClose",function(t){t.preventDefault();e.toggle(false)})},show:function(t,e){if(l){o.element.attr("aria-expanded",true)}if(i){if(e.options.position.adjust.scroll){g("body").addClass("cbTooltipModalOpen")}}o.element.triggerHandler("cbtooltip.show",[o,t,e]);if(o.settings.closeClasses){g(e.elements.target).removeClass(o.settings.closeClasses)}if(o.settings.openClasses){g(e.elements.target).addClass(o.settings.openClasses)}},hide:function(t,e){if(l){o.element.attr("aria-expanded",false)}o.element.triggerHandler("cbtooltip.hide",[o,t,e]);if(o.settings.openClasses){g(e.elements.target).removeClass(o.settings.openClasses)}if(o.settings.closeClasses){g(e.elements.target).addClass(o.settings.closeClasses)}if(c&&c.length){p.append(c)}},toggle:function(t,e){o.element.triggerHandler("cbtooltip.toggle",[o,t,e])},visible:function(t,e){if(i){g(document).on("keydown",o.escapeHandler);b.call(s,o,e)}else if(o.settings.overlay){o.overlay.insertBefore(e.elements.tooltip).css({zIndex:e.elements.tooltip.css("zIndex")-1,cursor:"default"})}o.element.triggerHandler("cbtooltip.visible",[o,t,e])},hidden:function(t,e){if(i){g(document).off("keydown",o.escapeHandler);if(e.options.position.adjust.scroll){g("body").removeClass("cbTooltipModalOpen")}}if(!i&&o.settings.overlay){o.overlay.remove()}o.element.triggerHandler("cbtooltip.hidden",[o,t,e]);if(n){if(!o.element.data("cbtooltip")){if(e.elements.overlay){e.elements.overlay.remove()}if(e.elements.tooltip){e.elements.tooltip.remove()}}else{o.element.cbtooltip("destroy");o.element.remove()}}else{if(!o.settings.keepAlive){if(!o.element.data("cbtooltip")){if(e.elements.overlay){e.elements.overlay.remove()}if(e.elements.tooltip){e.elements.tooltip.remove()}}else{o.options.id=e.get("id");o.element.cbtooltip("destroy");o.element.cbtooltip(o.options)}}}},move:function(t,e){h.call(s,o,e);if(i){b.call(s,o,e)}o.element.triggerHandler("cbtooltip.move",[o,t,e])},focus:function(t,e){if(e.elements.overlay){var s=e.elements.overlay.css("zIndex");var i=e.elements.tooltip.css("zIndex");if(s>i){e.elements.overlay.css({zIndex:i-1})}}o.element.triggerHandler("cbtooltip.focus",[o,t,e])},blur:function(t,e){o.element.triggerHandler("cbtooltip.blur",[o,t,e])}}});if(i||n){o.element.on("destroy.cbtooltip",function(){o.element.cbtooltip("destroy")})}else{o.element.on("remove.cbtooltip destroy.cbtooltip",function(){o.element.cbtooltip("destroy")})}o.element.on("rebind.cbtooltip",function(){o.element.cbtooltip("rebind")});o.element.on("modified.cbtooltip",function(t,n,l,e){if(n!=l){var s=["tooltip-target","title-target","open-target","close-target","position-target"];g.each(s,function(t,e){var s=o.element.attr("data-cbtooltip-"+e);if(typeof s!="undefined"){o.element.attr("data-cbtooltip-"+e,s.replace(n,l))}var i=o.element.data("cbtooltip-"+e);if(typeof i!="undefined"){o.element.data("cbtooltip-"+e,i.replace(n,l))}});o.element.cbtooltip("rebind")}});o.element.on("cloned.cbtooltip",function(){g(this).off(".cbtooltip");var t=g(this).data("qtip")._id;g(this).removeData("cbtooltip");g(this).removeData("hasqtip");g(this).removeData("qtip");g(this).removeAttr("data-hasqtip");g(this).off("."+t);g(this).cbtooltip(o.options)});o.element.triggerHandler("cbtooltip.init.after",[o]);o.element.data("cbtooltip",o);f.push(o)})},get:function(t){var e=g(this).data("cbtooltip");if(!e){return null}return e.tooltip.qtip("api").get(t)},set:function(t,e){var s=g(this).data("cbtooltip");if(!s){return this}s.tooltip.qtip("api").set(t,e);return this},toggle:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").toggle();return this},show:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").toggle(true);return this},hide:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").toggle(false);return this},enable:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").disable(false);t.element.triggerHandler("cbtooltip.enable",[t]);return this},disable:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").disable(true);t.element.triggerHandler("cbtooltip.disable",[t]);return this},reposition:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").reposition();return this},focus:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").focus();return this},blur:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.tooltip.qtip("api").blur();return this},rebind:function(){var t=g(this).data("cbtooltip");if(!t){return this}t.element.cbtooltip("destroy");t.element.cbtooltip(t.options);return this},destroy:function(){var s=g(this).data("cbtooltip");if(!s){return this}s.tooltip.qtip("api").destroy(true);s.element.off(".cbtooltip");g.each(f,function(t,e){if(e.element==s.element){f.splice(t,1);return false}return true});s.element.removeData("cbtooltip");s.element.triggerHandler("cbtooltip.destroyed",[s]);return this},instances:function(){return f}};function m(t,e){if(!e){return t.element}if(typeof e=="object"&&e.jquery){return e}else if(typeof e!="string"){return t.element}if(e.lastIndexOf("~ ",0)===0||e.lastIndexOf("+ ",0)===0||e.lastIndexOf("> ",0)===0||e.lastIndexOf(" ",0)===0){return t.element.find(e.trim())}return g(e)}function b(t,e){if(e.elements.tooltip){e.elements.content.css("height","");e.elements.content.css("max-height","");var s=e.elements.tooltip.height();if(s){if(e.elements.titlebar){e.elements.titlebar.css("height","");e.elements.titlebar.css("max-height","");var i=e.elements.titlebar.outerHeight(true);if(i){e.elements.titlebar.css("height","100%");e.elements.titlebar.css("max-height",i);if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",s-i)}}}else if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",s)}}}}function h(t,e){if(e.elements.tooltip&&(!t.settings.width||typeof t.settings.width==="number")){var s=g(window).width()-15;var i=e.elements.tooltip.width();if(i>s){e.elements.tooltip.css("max-width",s)}else if(i+15<s){e.elements.tooltip.css("max-width","")}}}g.cbconfirm=function(t,e){var n=g.Deferred();var s=g("<div />").appendTo("body");s.data("cbtooltip-tooltip",t);s.data("cbtooltip-dialog",true);s.data("cbtooltip-button-hide",true);s.data("cbtooltip-width",false);s.data("cbtooltip-overlay",true);s.on("cbtooltip.render",function(t,e,s,i){g(i.elements.content).on("click",".cbTooltipButtonYes",function(t){n.resolve("yes")})}).on("cbtooltip.hidden",function(t,e,s,i){if(n.state()!="resolved"){n.reject("no")}});var i=o.init.apply(s,[e]);var l=i.data("cbtooltip");if(l&&(l.settings.buttonYes||l.settings.buttonNo)){t+='<div class="text-right mt-2 cbTooltipButtons">'+(l.settings.buttonYes?'<button class="btn btn-sm btn-primary cbTooltipButtonYes cbTooltipClose">'+l.settings.buttonYes+"</button>":"")+(l.settings.buttonNo?' <button class="btn btn-sm btn-secondary cbTooltipButtonNo cbTooltipClose">'+l.settings.buttonNo+"</button>":"")+"</div>";i.cbtooltip("set","content.text",t)}return n.promise()};g.cbprompt=function(t,e){var n=g.Deferred();var s=g("<div />").appendTo("body");s.data("cbtooltip-tooltip",t);s.data("cbtooltip-dialog",true);s.data("cbtooltip-button-hide",true);s.data("cbtooltip-width",false);s.on("cbtooltip.hidden",function(t,e,s,i){n.resolve("yes")});var i=o.init.apply(s,[e]);var l=i.data("cbtooltip");if(l&&l.settings.buttonYes){t+='<div class="text-right mt-2 cbTooltipButtons">'+'<button class="btn btn-sm btn-primary cbTooltipButtonYes cbTooltipClose">'+l.settings.buttonYes+"</button>"+"</div>";i.cbtooltip("set","content.text",t)}return n.promise()};g.cbdialog=function(t,e){var s=g("<div />").appendTo("body");s.data("cbtooltip-tooltip",t);s.data("cbtooltip-dialog",true);s.data("cbtooltip-width",false);return o.init.apply(s,[e])};g.cbmodal=function(t,e){var s=g("<div />").appendTo("body");s.data("cbtooltip-tooltip",t);s.data("cbtooltip-modal",true);s.data("cbtooltip-dialog",true);s.data("cbtooltip-width",false);return o.init.apply(s,[e])};g.fn.cbtooltip=function(t){if(o[t]){return o[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return o.init.apply(this,arguments)}return this};g.fn.cbtooltip.defaults={init:true,useData:true,id:null,tooltip:null,tooltipTarget:null,title:null,titleTarget:null,openReady:null,openEvent:null,openTarget:null,openClasses:null,openSolo:null,openDelay:null,openEffect:null,closeEvent:null,closeTarget:null,closeClasses:null,closeFixed:null,closeDelay:null,closeDistance:null,closeLeave:null,closeInactive:null,closeEffect:null,buttonHide:null,buttonClose:null,buttonYes:null,buttonNo:null,width:null,height:null,modal:null,dialog:null,menu:null,simple:null,clone:null,classes:null,titleClasses:null,contentClasses:null,overlayClasses:null,container:null,viewport:null,positionMy:null,positionAt:null,positionTarget:null,positionEffect:null,adjustX:null,adjustY:null,adjustScroll:null,adjustResize:null,adjustMethod:null,tipHide:null,tipWidth:null,tipHeight:null,tipOffset:null,keepAlive:null,overlay:null}})(jQuery);